 carousel = $('.owl-carousel.'+'<%= j params[:current] %>');
<% collection = instance_variable_get("@"+params[:current]) %>
//remove paginator
indexToRemove = carousel.find(".owl-stage").children().length -1;
carousel.trigger( 'remove.owl.carousel',  indexToRemove );

<% if params[:current] != "liked_gigs" %>
  //add items
  <% collection.each do |item| %>
     carousel.trigger('add.owl.carousel', "<%= j render item %>").trigger('refresh.owl.carousel');
  <% end %>
<% else %>
  //add items
  <% @liked_gigs_items.each do |item| %>
     carousel.trigger('add.owl.carousel', "<%= j render item %>").trigger('refresh.owl.carousel');
  <% end %>
<% end %>

//if next page add new paginator
<% if collection.next_page %>
  <% link = link_to_next_page(collection, "Oculto", class: "carousel-paginator" , param_name: params[:current], :params => {:current => params[:current]}, remote: true, style: "display: none;") %>
  carousel.trigger('add.owl.carousel', "<%=j link %>").trigger('refresh.owl.carousel');
<% end %>
<% sleep 0.5 %>
